<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title }}</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            color: #333;
            background-color: #f4f4f9;
        }

        .container {
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .header {
            text-align: center;
            margin-bottom: 20px;
        }

        h1 {
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .date {
            color: #7f8c8d;
            font-size: 0.9em;
            margin-bottom: 20px;
        }

        .nav {
            text-align: center;
            margin-bottom: 30px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 5px;
        }

        .nav a {
            margin: 0 15px;
            text-decoration: none;
            color: #007bff;
            font-weight: bold;
            font-size: 1.1em;
        }

        .nav a.active {
            color: #2c3e50;
            text-decoration: underline;
            cursor: default;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        th,
        td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        th {
            background-color: #f8f9fa;
            position: sticky;
            top: 0;
        }

        tr:hover {
            background-color: #f1f1f1;
        }

        .positive {
            color: green;
        }

        .negative {
            color: red;
        }

        .stock-card {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            margin-bottom: 20px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .stock-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e8f8f5;
        }

        .stock-title {
            flex: 1;
        }

        .stock-title h3 {
            margin: 0;
            color: #2c3e50;
        }

        .stock-title .company-name {
            color: #7f8c8d;
            font-size: 0.9em;
            margin-top: 5px;
        }

        .stock-meta {
            text-align: right;
        }

        .market-cap {
            font-size: 1.2em;
            font-weight: bold;
            color: #2c3e50;
        }

        .dividend {
            color: #27ae60;
            font-size: 0.9em;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }

        .metric-item {
            text-align: center;
            padding: 10px;
            background-color: #f8f9fa;
            border-radius: 5px;
        }

        .metric-label {
            font-size: 0.8em;
            color: #7f8c8d;
            margin-bottom: 5px;
        }

        .metric-value {
            font-size: 1.1em;
            font-weight: bold;
            color: #2c3e50;
        }

        .description {
            margin-top: 15px;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 5px;
            line-height: 1.6;
            color: #555;
        }

        .competitors-section {
            margin-top: 15px;
            padding: 10px;
            background-color: #e8f8f5;
            border-radius: 5px;
        }

        .competitors-section h4 {
            margin: 0 0 10px 0;
            color: #2c3e50;
            font-size: 0.9em;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>{{ title }}</h1>
            <div class="date">Report generated on: {{ date }}</div>
        </div>

        <div class="nav">
            <a href="index.html">S&P 500</a>
            <a href="non_spy.html">Non-S&P 500</a>
            <a href="guru.html">Guru Tracker</a>
            <a href="consumer_staples.html">Consumer Staples</a>
            <a href="tech.html" class="active">Technology</a>
        </div>

        <div class="description"
            style="margin-bottom: 30px; padding: 20px; background-color: #e8f8f5; border-radius: 5px; border-left: 5px solid #1abc9c;">
            <h3>About Technology Sector</h3>
            <p>The Technology sector encompasses companies involved in the research, development, and distribution of
                technologically based goods and services. This includes software, semiconductors, hardware,
                telecommunications equipment, IT services, and internet companies. Technology stocks are typically
                characterized by high growth potential, innovation-driven business models, and significant investment in
                research and development. While they may offer lower dividend yields compared to other sectors, they
                often provide substantial capital appreciation opportunities through disruption and market expansion.
            </p>
        </div>

        {% for stock in stocks %}
        <div class="stock-card">
            <div class="stock-header">
                <div class="stock-title">
                    <h3>{{ stock.ticker }}</h3>
                    <div class="company-name">{{ stock.name }}</div>
                </div>
                <div class="stock-meta">
                    <div class="market-cap">{{ stock.market_cap }}</div>
                    <div class="dividend">Dividend: {{ stock.dividend_yield }}</div>
                </div>
            </div>

            <div class="metrics-grid">
                <div class="metric-item">
                    <div class="metric-label">P/E Ratio</div>
                    <div class="metric-value {{ 'positive' if stock.pe_val < 30 and stock.pe_val > 0 else '' }}">{{
                        stock.pe }}</div>
                </div>
                <div class="metric-item">
                    <div class="metric-label">ROE</div>
                    <div class="metric-value {{ 'positive' if stock.roe_val > 0.15 else '' }}">{{ stock.roe }}</div>
                </div>
                <div class="metric-item">
                    <div class="metric-label">Profit Margin</div>
                    <div class="metric-value {{ 'positive' if stock.margin_val > 0.10 else '' }}">{{ stock.margin }}
                    </div>
                </div>
                <div class="metric-item">
                    <div class="metric-label">Rev Growth</div>
                    <div class="metric-value {{ 'positive' if stock.growth_val > 0.05 else '' }}">{{ stock.growth }}
                    </div>
                </div>
                <div class="metric-item">
                    <div class="metric-label">Debt/Equity</div>
                    <div class="metric-value {{ 'positive' if stock.de_val < 50 else '' }}">{{ stock.de }}</div>
                </div>
                <div class="metric-item">
                    <div class="metric-label">PEG Ratio</div>
                    <div class="metric-value {{ 'positive' if stock.peg_val < 2.0 and stock.peg_val > 0 else '' }}">{{
                        stock.peg }}</div>
                </div>
            </div>

            <div class="description">
                <strong>About:</strong> {{ stock.description }}
            </div>

            {% if stock.comparison_table %}
            <div class="competitors-section" style="background-color: #fff; border: 1px solid #eee;">
                <h4 style="margin-bottom: 15px; color: #2c3e50;">Sector Comparison</h4>
                <table style="font-size: 0.9em; width: 100%;">
                    <thead>
                        <tr style="background-color: #f8f9fa;">
                            <th>Ticker</th>
                            <th>Market Cap</th>
                            <th>P/E</th>
                            <th>ROE</th>
                            <th>Margin</th>
                            <th>Growth</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for comp in stock.comparison_table %}
                        <tr style="{{ 'background-color: #e8f8f5; font-weight: bold;' if comp.is_current else '' }}">
                            <td>{{ comp.ticker }}</td>
                            <td>{{ comp.market_cap }}</td>
                            <td>{{ comp.pe }}</td>
                            <td>{{ comp.roe }}</td>
                            <td>{{ comp.margin }}</td>
                            <td>{{ comp.growth }}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            {% endif %}

            {% if stock.competitors %}
            <div class="competitors-section">
                <h4>Competitors:</h4>
                <span>{{ stock.competitors|join(', ') }}</span>
            </div>
            {% endif %}
        </div>
        {% endfor %}
    </div>
</body>

</html>